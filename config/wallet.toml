# NOTE: Restart the wallet runtime after editing this file; live reload is not supported.
# Phase 2 policy/fee/prover settings are documented in docs/wallet_phase2_policies_prover.md.
# Phase 3 GUI settings are documented in docs/wallet_phase3_gui.md.
data_dir = "./data"

[wallet.keys]
key_path = "./keys/wallet.toml"

[wallet.rpc]
listen = "127.0.0.1:9090"
allowed_origin = null
requests_per_minute = null

[wallet.auth]
enabled = false
token = null

[wallet.auth.tls]
certificate = null
private_key = null
ca_certificate = null

[wallet.budgets]
submit_transaction_per_minute = 120
proof_generation_per_minute = 60
pipeline_depth = 64

# GUI presentation options. Enable by building with `--features wallet_gui` and
# see docs/wallet_phase3_gui.md for MVU architecture, tab flows, and telemetry.
#
# Example:
# [wallet.gui]
# theme = "dark"           # Supported: "dark", "light"
# auto_lock_secs = 300      # Inactivity lock timeout (matches security UX doc)
# clipboard_auto_clear = true
#
[wallet.gui]
theme = "dark"
auto_lock_secs = 300
clipboard_auto_clear = true

# Controls automatic lookback rescans and the batch size used when replaying history.
# See docs/wallet_phase2_policies_prover.md for CLI overrides.
[wallet.rescan]
auto_trigger = false
lookback_blocks = 2880
chunk_size = 64

[wallet.engine]
data_dir = "./data/wallet"
keystore_path = "./data/wallet/keystore.toml"
birthday_height = null

# Spend policy knobs (gap limits, confirmation depth, dust/change budgets, lock timeout).
# Detailed guidance: docs/wallet_phase2_policies_prover.md#policy-knobs
[wallet.policy]
external_gap_limit = 20
internal_gap_limit = 20
min_confirmations = 1

# Fee estimator defaults and guardrails (min/max); see docs/wallet_phase2_policies_prover.md#fee-estimator-behaviour
[wallet.fees]
default_sats_per_vbyte = 5
min_sats_per_vbyte = 1
max_sats_per_vbyte = 200

# Wallet prover runtime; enable alongside the appropriate cargo feature. See docs/wallet_phase2_policies_prover.md#prover-configuration-mock-vs-stwo
[wallet.prover]
enabled = false
mock_fallback = true
job_timeout_secs = 300
max_witness_bytes = 16777216
max_concurrency = 1

[node]
embedded = false
gossip_endpoints = ["/ip4/127.0.0.1/tcp/7600"]

# Electrs data is stored under "./data/electrs/firewood" and "./data/electrs/index" when enabled.
[electrs]
network = "regtest"

[electrs.features]
runtime = false
tracker = false

[electrs.cache.telemetry]
enabled = false
warmup_prefix = null

[electrs.tracker]
telemetry_endpoint = "127.0.0.1:0"

[electrs.tracker.notifications]
p2p = false
topic = "/rpp/gossip/blocks/1.0.0"

[electrs.p2p]
enabled = false
metrics_endpoint = "127.0.0.1:0"
network_id = "rpp-local"
auth_token = null
gossip_topics = ["/rpp/gossip/blocks/1.0.0"]
